package demo.validation.rules;

import demo.validation.engine.*;
import demo.validation.domain.ContactForm;

///
/// @author Wouter Roose

class ContactFormValidation extends ValidationSuite[ContactForm] {

    meta public constant Interrupt FORM_INTERRUPT = Interrupt #new;

    // singleton in DI configuration
    meta public lazy ContactFormValidation new() {
        ^ super #new
            //#add basic constraint
            #add(ZipConstraint #new)
            //#add ChildValidation
            #add(InssConstraint #new, form -> form #person )
            //#add nested ruleset 
    }

    meta Interrupt FORM_INTERRUPT() {
        ^ FORM_INTERRUPT
    }

}